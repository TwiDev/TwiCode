(self["webpackJsonp"]=self["webpackJsonp"]||[]).push([["chunk-594d0369"],{"0a72":function(e,t,i){var n,r;function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o.apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=i("30bf"),p=c.h,u=i("b880"),d=u.Plugin,l=i("de33"),h=i("5c32"),g=i("5fea"),f=i("a1c0"),m=i("e908"),v=i("76ca"),y=i("b212"),b=i("587c");function w(e){return"."===e[0]?g[e.slice(1)]:e}function S(e){return/^video\/[^*]+$/.test(e)}function R(e){return/^image\/[^*]+$/.test(e)}function _(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var e=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return e?{getUserMedia:function(t){return new Promise((function(i,n){e.call(navigator,t,i,n)}))}}:null}e.exports=(r=n=function(e){function t(t,i){var n;n=e.call(this,t,i)||this,n.mediaDevices=_(),n.supportsUserMedia=!!n.mediaDevices,n.protocol=location.protocol.match(/https/i)?"https":"http",n.id=n.opts.id||"Webcam",n.title=n.opts.title||"Camera",n.type="acquirer",n.icon=function(){return p("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},p("g",{fill:"none","fill-rule":"evenodd"},p("rect",{fill:"#03BFEF",width:"32",height:"32",rx:"16"}),p("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF","fill-rule":"nonzero"})))},n.defaultLocale={strings:{smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site.",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}"}};var r={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return n.opts=o({},r,{},i),n.i18nInit(),n.install=n.install.bind(s(n)),n.setPluginState=n.setPluginState.bind(s(n)),n.render=n.render.bind(s(n)),n._start=n._start.bind(s(n)),n._stop=n._stop.bind(s(n)),n._takeSnapshot=n._takeSnapshot.bind(s(n)),n._startRecording=n._startRecording.bind(s(n)),n._stopRecording=n._stopRecording.bind(s(n)),n._oneTwoThreeSmile=n._oneTwoThreeSmile.bind(s(n)),n._focus=n._focus.bind(s(n)),n.webcamActive=!1,n.opts.countdown&&(n.opts.onBeforeSnapshot=n._oneTwoThreeSmile),n}a(t,e);var i=t.prototype;return i.setOptions=function(t){e.prototype.setOptions.call(this,t),this.i18nInit()},i.i18nInit=function(){this.translator=new l([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},i.isSupported=function(){return!!this.mediaDevices},i.getConstraints=function(){var e=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),t=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("video-only")||-1!==this.opts.modes.indexOf("picture");return{audio:e,video:!!t&&{facingMode:this.opts.facingMode}}},i._start=function(){var e=this;if(!this.isSupported())return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0;var t=this.getConstraints();return this.mediaDevices.getUserMedia(t).then((function(t){e.stream=t,e.setPluginState({cameraReady:!0})})).catch((function(t){e.setPluginState({cameraError:t})}))},i._getMediaRecorderOptions=function(){var e={};if(MediaRecorder.isTypeSupported){var t=this.uppy.opts.restrictions,i=[];this.opts.preferredVideoMimeType?i=[this.opts.preferredVideoMimeType]:t.allowedFileTypes&&(i=t.allowedFileTypes.map(w).filter(S));var n=i.filter((function(e){return MediaRecorder.isTypeSupported(e)&&h(e)}));n.length>0&&(e.mimeType=n[0])}return e},i._startRecording=function(){var e=this;this.recorder=new MediaRecorder(this.stream,this._getMediaRecorderOptions()),this.recordingChunks=[];var t=!1;this.recorder.addEventListener("dataavailable",(function(i){e.recordingChunks.push(i.data);var n=e.uppy.opts.restrictions;if(e.recordingChunks.length>1&&null!=n.maxFileSize&&!t){var r=e.recordingChunks.reduce((function(e,t){return e+t.size}),0),o=(r-e.recordingChunks[0].size)/(e.recordingChunks.length-1),s=3*o,a=Math.max(0,n.maxFileSize-s);r>a&&(t=!0,e.uppy.info(e.i18n("recordingStoppedMaxSize"),"warning",4e3),e._stopRecording())}})),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval((function(){var t=e.getPluginState().recordingLengthSeconds;e.setPluginState({recordingLengthSeconds:t+1})}),1e3)),this.setPluginState({isRecording:!0})},i._stopRecording=function(){var e=this,t=new Promise((function(t,i){e.recorder.addEventListener("stop",(function(){t()})),e.recorder.stop(),e.opts.showRecordingLength&&(clearInterval(e.recordingLengthTimer),e.setPluginState({recordingLengthSeconds:0}))}));return t.then((function(){return e.setPluginState({isRecording:!1}),e.getVideo()})).then((function(t){try{e.uppy.addFile(t)}catch(i){i.isRestriction||e.uppy.log(i)}})).then((function(){e.recordingChunks=null,e.recorder=null}),(function(t){throw e.recordingChunks=null,e.recorder=null,t}))},i._stop=function(){this.stream.getAudioTracks().forEach((function(e){e.stop()})),this.stream.getVideoTracks().forEach((function(e){e.stop()})),this.webcamActive=!1,this.stream=null},i._getVideoElement=function(){return this.el.querySelector(".uppy-Webcam-video")},i._oneTwoThreeSmile=function(){var e=this;return new Promise((function(t,i){var n=e.opts.countdown,r=setInterval((function(){if(!e.webcamActive)return clearInterval(r),e.captureInProgress=!1,i(new Error("Webcam is not active"));n>0?(e.uppy.info(n+"...","warning",800),n--):(clearInterval(r),e.uppy.info(e.i18n("smile"),"success",1500),setTimeout((function(){return t()}),1500))}),1e3)}))},i._takeSnapshot=function(){var e=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch((function(t){var i="object"===typeof t?t.message:t;return e.uppy.info(i,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: "+i))})).then((function(){return e._getImage()})).then((function(t){e.captureInProgress=!1;try{e.uppy.addFile(t)}catch(i){i.isRestriction||e.uppy.log(i)}}),(function(t){throw e.captureInProgress=!1,t})))},i._getImage=function(){var e=this,t=this._getVideoElement();if(!t)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var i=t.videoWidth,n=t.videoHeight,r=document.createElement("canvas");r.width=i,r.height=n;var o=r.getContext("2d");o.drawImage(t,0,0);var s=this.uppy.opts.restrictions,a=[];this.opts.preferredImageMimeType?a=[this.opts.preferredImageMimeType]:s.allowedFileTypes&&(a=s.allowedFileTypes.map(w).filter(R));var c=a[0]||"image/jpeg",p=h(c)||"jpg",u="cam-"+Date.now()+"."+p;return f(r,c).then((function(t){return{source:e.id,name:u,data:new Blob([t],{type:c}),type:c}}))},i.getVideo=function(){var e=this.recordingChunks[0].type,t=h(e);if(!t)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'+e+'"'));var i="webcam-"+Date.now()+"."+t,n=new Blob(this.recordingChunks,{type:e}),r={source:this.id,name:i,data:new Blob([n],{type:e}),type:e};return Promise.resolve(r)},i._focus=function(){var e=this;this.opts.countdown&&setTimeout((function(){e.uppy.info(e.i18n("smile"),"success",1500)}),1e3)},i.render=function(e){this.webcamActive||this._start();var t=this.getPluginState();return t.cameraReady?p(y,o({},t,{onSnapshot:this._takeSnapshot,onStartRecording:this._startRecording,onStopRecording:this._stopRecording,onFocus:this._focus,onStop:this._stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,supportsRecording:m(),recording:t.isRecording,mirror:this.opts.mirror,src:this.stream})):p(b,{icon:v,i18n:this.i18n})},i.install=function(){this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var e=this.opts.target;e&&this.mount(e,this)},i.uninstall=function(){this.stream&&this._stop(),this.unmount()},t}(d),n.VERSION="1.6.1",r)},3419:function(e,t,i){var n=i("30bf"),r=n.h;e.exports=function(e){var t=e.recording,i=e.onStartRecording,n=e.onStopRecording,o=e.i18n;return t?r("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:o("stopRecording"),"aria-label":o("stopRecording"),onclick:n,"data-uppy-super-focusable":!0},r("svg",{"aria-hidden":"true",focusable:"false",class:"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},r("rect",{x:"15",y:"15",width:"70",height:"70"}))):r("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--video",type:"button",title:o("startRecording"),"aria-label":o("startRecording"),onclick:i,"data-uppy-super-focusable":!0},r("svg",{"aria-hidden":"true",focusable:"false",class:"UppyIcon",width:"100",height:"100",viewBox:"0 0 100 100"},r("circle",{cx:"50",cy:"50",r:"40"})))}},"587c":function(e,t,i){var n=i("30bf"),r=n.h;e.exports=function(e){return r("div",{class:"uppy-Webcam-permissons"},r("div",{class:"uppy-Webcam-permissonsIcon"},e.icon()),r("h1",{class:"uppy-Webcam-title"},e.i18n("allowAccessTitle")),r("p",null,e.i18n("allowAccessDescription")))}},"5c32":function(e,t){var i={"audio/mp3":"mp3","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};e.exports=function(e){return e=e.replace(/;.*$/,""),i[e]||null}},7429:function(e,t){e.exports=function(e){return Math.floor(e/60)+":"+String(e%60).padStart(2,0)}},"76ca":function(e,t,i){var n=i("30bf"),r=n.h;e.exports=function(e){return r("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},r("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z","fill-rule":"evenodd"}))}},"8e6e":function(e,t){e.exports=function(e,t,i){var n=e.split(",")[1],r=t.mimeType||e.split(",")[0].split(":")[1].split(";")[0];null==r&&(r="plain/text");for(var o,s=atob(n),a=[],c=0;c<s.length;c++)a.push(s.charCodeAt(c));try{o=new Uint8Array(a)}catch(p){return null}return i?new File([o],t.name||"",{type:r}):new Blob([o],{type:r})}},a1c0:function(e,t,i){var n=i("8e6e");e.exports=function(e,t,i){return e.toBlob?new Promise((function(n){e.toBlob(n,t,i)})):Promise.resolve().then((function(){return n(e.toDataURL(t,i),{})}))}},b212:function(e,t,i){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=i("30bf"),o=r.h,s=r.Component,a=i("b797"),c=i("3419"),p=i("cde7");function u(e,t){return-1!==e.indexOf(t)}var d=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var i=t.prototype;return i.componentDidMount=function(){this.props.onFocus()},i.componentWillUnmount=function(){this.props.onStop()},i.render=function(){var e=this.props.supportsRecording&&(u(this.props.modes,"video-only")||u(this.props.modes,"audio-only")||u(this.props.modes,"video-audio")),t=u(this.props.modes,"picture"),i=this.props.supportsRecording&&this.props.showRecordingLength;return o("div",{class:"uppy uppy-Webcam-container"},o("div",{class:"uppy-Webcam-videoContainer"},o("video",{class:"uppy-Webcam-video  "+(this.props.mirror?"uppy-Webcam-video--mirrored":""),autoplay:!0,muted:!0,playsinline:!0,srcObject:this.props.src||""})),o("div",{class:"uppy-Webcam-buttonContainer"},i?p(this.props):null," ",t?a(this.props):null," ",e?c(this.props):null))},t}(s);e.exports=d},b797:function(e,t,i){var n=i("30bf"),r=n.h,o=i("76ca");e.exports=function(e){var t=e.onSnapshot,i=e.i18n;return r("button",{class:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:i("takePicture"),"aria-label":i("takePicture"),onclick:t,"data-uppy-super-focusable":!0},o())}},cde7:function(e,t,i){var n=i("30bf"),r=n.h,o=i("7429");e.exports=function(e){var t=e.recordingLengthSeconds,i=e.i18n,n=o(t);return r("div",{class:"uppy-Webcam-recordingLength","aria-label":i("recordingLength",{recording_length:n})},n)}},e908:function(e,t){e.exports=function(){return"function"===typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"===typeof MediaRecorder.prototype.start}}}]);